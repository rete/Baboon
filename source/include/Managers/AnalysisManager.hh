/*
 *
 * AnalysisManager.hh header template generated by fclass
 * Creation date : Mon Mar 18 21:07:41 2013
 * Copyright (c) CNRS / IPNL
 * All Right Reserved.
 *
 * Use and copying of these libraries and preparation of derivative works
 * based upon these libraries are permitted. Any copy of these libraries
 * must include this copyright notice.
 *
 * Written by : R. Et√©
 */


#ifndef ANALYSISMANAGER_HH
#define ANALYSISMANAGER_HH

#include <iostream>
#include <string>
#include <cstdlib>
#include <cmath>
#include <vector>
#include <map>
#include <stdexcept>
#include <algorithm>


// sdhcal includes
#include "Exception.hh"

// root includes
#include "TFile.h"
#include "TTree.h"
#include "TBranch.h"

#include "Analysis/TTreeWrapper.hh"
#include "Utilities/ReturnValues.hh"


namespace baboon {

	/*!
	 * Class AnalysisManager.
	 */

	class AnalysisManager : public TTreeWrapper {



		protected :
			/*! Default Constructor */
			AnalysisManager();
			/*! Default Destructor */
			~AnalysisManager();

			static AnalysisManager *instance;

			std::string outputFileName;

			TFile *rootOutputFile;

			void PrintAnalysisFooter();


		public :

			static AnalysisManager *GetInstance();


			static void Kill();


			inline void SetRootFileName( const std::string& fName )
				{ outputFileName = fName; }


			Return Init();


			Return End();


	};

}

#endif  // ANALYSISMANAGER_HH
