/*
 *
 * AnalysisManager.cc cpp file template generated by fclass
 * Creation date : Mon Mar 18 21:07:41 2013
 * Copyright (c) CNRS / IPNL
 * All Right Reserved.
 *
 * Use and copying of these libraries and preparation of derivative works
 * based upon these libraries are permitted. Any copy of these libraries
 * must include this copyright notice.
 *
 * Written by : R. Et√©
 */


#include "Managers/AnalysisManager.hh"



using namespace std;



namespace baboon {




	AnalysisManager *AnalysisManager::instance = NULL;



	AnalysisManager::AnalysisManager() {

		rootOutputFile = 0;
	}



	AnalysisManager::~AnalysisManager() {}


	AnalysisManager *AnalysisManager::GetInstance() {
		if(instance == NULL) instance = new AnalysisManager();
		return instance;
	}



	void AnalysisManager::Kill() {
		if(instance != NULL) {
			cout << "debug end" << endl;
			delete instance;
			cout << "debug end" << endl;
			instance = NULL;
			cout << "debug end" << endl;
		}
	}


	void AnalysisManager::Init() {

		rootOutputFile = TFile::Open( outputFileName.c_str() ,"RECREATE" );

	}




	void AnalysisManager::End() {
		cout << "debug" << endl;
		rootOutputFile->cd();
		cout << "debug" << endl;
		rootOutputFile->Write();
		cout << "debug" << endl;
		rootOutputFile->Close();
		cout << "debug" << endl;
		delete rootOutputFile;
	}


}
